<!doctype html>
<html> 
 <head></head> 
 <body> 
  <div id="navbar" class="navbar" style="display: flex; justify-content: space-between; align-items: center;"> 
   <div class="logo"> 
    <img src="https://Siam-tech.github.io/QuantumEdge/Logo.png" width="90px"> 
   </div> <a href="https://Siam-tech.github.io/QuantumEdge/Homepage.html" style="text-decoration: none; color: black; font-size: 30px; border: 1px solid black; padding: 5px 5px; background-color: grey;">Home</a> 
  </div> <!-- Data Container --> 
  <div id="allData" style="margin-top: 70px; padding: 20px;"></div> 
  <style>
    #navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: #4F4F4F;
      color: #00FFFF;
      display: flex;
      align-items: center;
      padding: 0 20px;
      z-index: 1000;
    }

    #navbar .logo {
      font-size: 24px;
      font-weight: bold;
    }

    .account {
      border: 2px solid #ccc;
      border-radius: 8px;
      margin: 10px 0;
      padding: 10px;
      background-color: #f9f9f9;
    }
    .Up{
      
      background-color: Blue;
      color: White;
      padding: 30px 30px;
      font-size: 30px;
      border-radius: 32px;
    }
  </style> 
 <script type="module">
  import { getDatabase, ref, set } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js';
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js';

  // Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyDl1JmX8dQ4RGyKrDU_S2ZRduU_8PC3V4Q",
    authDomain: "avengers-account.firebaseapp.com",
    databaseURL: "https://avengers-account-default-rtdb.firebaseio.com",
    projectId: "avengers-account",
    storageBucket: "avengers-account.appspot.com",
    messagingSenderId: "738359469795",
    appId: "1:738359469795:web:e032337eb00df0257d47d6",
    measurementId: "G-9F4K7KVGED"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);

  // Load values safely from localStorage
  let Money = parseInt(localStorage.getItem('member-money') || "0", 10);
  let Level = parseInt(localStorage.getItem('member-level') || "1", 10);
  let memberID = localStorage.getItem('memberID') || "UNKNOWN";

  // Update DOM
  document.getElementById('id').innerText = "ID: " + memberID;
  document.getElementById('Money').innerText = "Balance: $" + Money;
  document.getElementById('Level').innerText = "Level: " + Level;

  // Level-Up Logic
  function trig() {
    if (Money >= 1000) {
      Money -= 1000;
      Level += 1;

      // Save updates
      updateData(Money, "Money", "member-money");
      updateData(Level, "Level", "member-level");

      // Update UI
      document.getElementById('Money').innerText = "Balance: $" + Money;
      document.getElementById('Level').innerText = "Level: " + Level;

      alert("âœ… Level up successful!");
    } else {
      alert("âŒ You don't have enough balance.\nMinimum 1000$ required.");
    }
  }

  // Reusable update function
  function updateData(newData, tag, localKey) {
    const userRef = ref(database, `${tag}/${memberID}`);
    set(userRef, newData)
      .then(() => {
        localStorage.setItem(localKey, newData);
      })
      .catch((error) => {
        alert(`Firebase Error for ${tag}: ` + error);
      });
  }

  // Make trigger function accessible from button
  window.trig = trig;
</script>
<!-- Info Cards -->
<div style="display: flex; justify-content: center; gap: 30px; align-items: center; flex-wrap: wrap; padding: 30px;">
  <span id="id" style="
    background: linear-gradient(135deg, #e0e0e0, #ffffff);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-radius: 16px;
    padding: 20px 30px;
    font-size: 28px;
    font-weight: bold;
    color: #333;
    min-width: 180px;
    text-align: center;
    border: none;
  ">ID: 007</span>

  <span id="Money" style="
    background: linear-gradient(135deg, #d1ffe8, #ffffff);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-radius: 16px;
    padding: 20px 30px;
    font-size: 28px;
    font-weight: bold;
    color: #007b5e;
    min-width: 180px;
    text-align: center;
    border: none;
  ">$100</span>

  <span id="Level" style="
    background: linear-gradient(135deg, #ffe8d1, #ffffff);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-radius: 16px;
    padding: 20px 30px;
    font-size: 28px;
    font-weight: bold;
    color: #a05b00;
    min-width: 180px;
    text-align: center;
    border: none;
  ">Lv 5</span>
</div>

<!-- Heading -->
<div style="display: flex; justify-content: center; align-items: center; padding: 20px;">
  <h1 style="font-size: 32px; color: #444;">ðŸš€ Press the button below to level up</h1>
</div>

<!-- Button -->
<div style="display: flex; justify-content: center; align-items: center; padding-bottom: 40px;">
  <button onclick="trig()" style="
    background: linear-gradient(135deg, #005eff, #00c6ff);
    color: white;
    padding: 20px 40px;
    font-size: 24px;
    font-weight: bold;
    border: none;
    border-radius: 40px;
    box-shadow: 0 8px 20px rgba(0, 98, 255, 0.4);
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 25px rgba(0,98,255,0.6)'" 
     onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 20px rgba(0,98,255,0.4)'">
    âš¡ Level Up
  </button>
</div>
 </body>
</html>